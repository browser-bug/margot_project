# README
This repository contains the mARGOt framework core

## Summary of the framework

The mARGOt framework core provides to an application the ability to dynamically adapt, in order to face changes in the execution environment or in the application requirements. The framework exploits the information gathered during a Design Space Exploration in order to guide the selection of the most suitable configuration of the application software knobs. The application may define a set constraints on its performance and a rank function that expresses how good is an Operating Point for the application. At Run-Time the framework senses the execution environments, by means of run-time monitors, and automatically selects the best configuration that fit the observed situation.


### Code organization

The repository is organized as follow:
```
├── margot_heel/
|   ├── margot_heel_cli/  -> Command Line Interface, it might:
|   |                            - generate the glue code to ease the integration
|   |                            - genarate a gnuplot script that plot a list of Operating Points
|   |                            - filter the Pareto-dominated Operating Points
|   |                            - additional features to manage the list of Operating Points
|   ├── margot_heel_if/   -> An high-level interface generated by the argo_gangway_cli
|
├── extra/benchmark/ -> A stress benchmark to evaluate the framework's overhead
|
├── framework/
│   ├── config/            -> Framework configuration files:
|   |                          - the actual configuration header
|   |                          - the clang autocomplete files (Atom/vim utility)
|   |                          - the argo ".pc" file for pkg-config
|   |                          - doxygen files for building the documentation
│   ├── monitor/           -> The application-specific monitoring library module
|   |   ├── src/               -> The source files of the module
|   |   ├── include/           -> The headers of the module
│   │   ├── test/              -> The test headers of the module
│   ├── asrtm              -> The Application-Specific Run-Time manager module
|   |   ├── src/               -> The source files of the module
|   |   ├── include/           -> The headers of the module
│   │   ├── test/              -> The test headers of the module
```


### Compiling instructions
The building system is based on CMake. Assuming you are in the path path/to/margot/core, the default procedure is as follow:
~~~
:::bash
$ mkdir build
$ cd build
$ cmake -DCMAKE_INSTALL_PREFIX:PATH=<path> ..
$ make
$ make install
~~~
In order to build the framework is needed gcc > 4.9. The framework is meant to be used in a Unix environment. The Application-Specific Run-Time Manger is written in standard c++, however several monitors parse the /proc metafiles.

#### Building option
The default configuration builds and installs only the framework as a static library ( together with header files). However, it is possible to change this behavior using the CMake configuration options as follows:

| Option name              |  Values [default]  | Description                                                 |
|--------------------------|--------------------|-------------------------------------------------------------|
| LIB_STATIC               |  [ON],  OFF        | Build a static library (otherwise it is shared)             |
| PEDANTIC_CHECK           |  [ON],  OFF        | Enables additional checks at run-time (additional overhead) |
| SAFE_CASTING             |  [ON],  OFF        | Take advantage of RTTI while casting (additional overhead)  |
| WITH_DOC                 |   ON , [OFF]       | Generate the Doxygen documentation                          |
| ENABLE_REWARD            |   ON , [OFF]       | Evaluates a reward of the selected configuration            |
| ENABLE_LEARNING          |   ON , [OFF]       | Enables the Multi Armed Bandit learning state               |
| LOG_LEARNING             |   ON , [OFF]       | Log the behavior of the learning framework                  |



### Contribution guidelines
Clone the repository and send pull requests, any contribution is welcome.

### Who do I talk to?
Contact: davide [dot] gadioli [at] polimi [dot] it

Organization: Politecnico di Milano, Italy
