# - Check for the presence of MARGOT_HEEL
#
# The following variables are set when MARGOT_HEEL is found:
#  HAVE_MARGOT_HEEL       = Set to true, if all components of MARGOT_HEEL
#                          have been found.
#  MARGOT_HEEL_INCLUDES   = Include path for the header files of MARGOT_HEEL
#  MARGOT_HEEL_LIBRARIES  = Link these to use MARGOT_HEEL



set( MARGOT_HEEL_SOURCE_PATH @PROJECT_SOURCE_DIR_ESCAPED@ )
set( MARGOT_HEEL_BUILD_PATH @PROJECT_BINARY_DIR_ESCAPED@ )
set( MARGOT_HEEL_INSTALL_PATH @CMAKE_INSTALL_PREFIX_ESCAPED@ )
set( MARGOT_DEPS_HEADERS @MARGOT_DEPS_HEADERS_ESCAPED@ )
set( MARGOT_DEPS_LIBS @MARGOT_DEPS_LIBS_ESCAPED@ )

## -----------------------------------------------------------------------------
## Check for the header files

# check for the header files
find_path (MARGOT_HEEL_HEADERS margot.hpp
  PATHS ${MARGOT_HEEL_INSTALL_PATH}/include ${MARGOT_HEEL_SOURCE_PATH}
  NO_DEFAULT_PATH
  )
find_path (MARGOT_HEEL_HEADERS margot.hpp)

# add the paths for the dependecies
set( MARGOT_HEEL_INCLUDES ${MARGOT_HEEL_HEADERS} ${MARGOT_DEPS_HEADERS} )


## -----------------------------------------------------------------------------
## Check for the libraries

find_library (MARGOT_HEEL_LIBRARY lib@MARGOT_HEEL_LIB_NAME@.a @MARGOT_HEEL_LIB_NAME@
  PATHS ${MARGOT_HEEL_INSTALL_PATH}/lib ${MARGOT_HEEL_BUILD_PATH}
  NO_DEFAULT_PATH
  )

find_library (MARGOT_HEEL_LIBRARY lib@MARGOT_HEEL_LIB_NAME@.a @MARGOT_HEEL_LIB_NAME@)

set( MARGOT_HEEL_LIBRARIES ${MARGOT_HEEL_LIBRARY} ${MARGOT_DEPS_LIBS} )



## -----------------------------------------------------------------------------
## Actions taken when all components have been found


if (MARGOT_HEEL_INCLUDES AND MARGOT_HEEL_LIBRARIES)
  set (HAVE_MARGOT_HEEL TRUE)
else (MARGOT_HEEL_INCLUDES AND MARGOT_HEEL_LIBRARIES)
  if (NOT MARGOT_HEEL_FIND_QUIETLY)
    if (NOT (MARGOT_HEEL_INCLUDES))
      message (STATUS "Unable to find MARGOT_HEEL header files!")
    endif (NOT (MARGOT_HEEL_INCLUDES))
    if (NOT (MARGOT_HEEL_LIBRARIES))
      message (STATUS "Unable to find MARGOT_HEEL library files!")
    endif (NOT (MARGOT_HEEL_LIBRARIES))
 endif (NOT MARGOT_HEEL_FIND_QUIETLY)
endif (MARGOT_HEEL_INCLUDES AND MARGOT_HEEL_LIBRARIES)

if (HAVE_MARGOT_HEEL)
  if (NOT MARGOT_HEEL_FIND_QUIETLY)
    message (STATUS "Found components for MARGOT_HEEL")
    message (STATUS "MARGOT_HEEL_INCLUDES .... = ${MARGOT_HEEL_INCLUDES}")
    message (STATUS "MARGOT_HEEL_LIBRARIES ... = ${MARGOT_HEEL_LIBRARIES}")
  endif (NOT MARGOT_HEEL_FIND_QUIETLY)
else (HAVE_MARGOT_HEEL)
  if (MARGOT_HEEL_FIND_QUIETLY)
    message (FATAL_ERROR "Could not find MARGOT_HEEL!")
endif (MARGOT_HEEL_FIND_QUIETLY)
endif (HAVE_MARGOT_HEEL)

mark_as_advanced (
  HAVE_MARGOT_HEEL
  MARGOT_HEEL_INCLUDES
  MARGOT_HEEL_LIBRARIES
  )
